(this.webpackJsonprate_watch=this.webpackJsonprate_watch||[]).push([[0],{38:function(t,n,e){"use strict";e.r(n);var r=e(1),o=e(0),c=e.n(o),a=e(19),i=e.n(a),s=e(2),u=e(4),l=e(25),f=e(7),h=e(3),b=e(17),d=e(20),j=e(5),p=e(6),v=e(9),m=e(8),O=[{from:"BTC",to:"USD",api:"cc"},{from:"ETH",to:"USD",api:"cc"},{from:"SOL",to:"USD",api:"cc"},{from:"FTM",to:"USD",api:"cc"},{from:"BTC",to:"ETH",api:"cc"},{from:"BTC",to:"FTM",api:"cc"},{from:"SOL",to:"FTM",api:"cc"},{from:"ETH",to:"FTM",api:"cc"}],g=function(t,n){return"https://api.ratiowatch.org/ytd?_from=".concat(t,"&_to=").concat(n)};var x,w=(x=function(t){var n=t.ratios;return n?Object(r.jsx)(d.a,{width:"100%",height:"250px",chartType:"LineChart",loader:Object(r.jsx)("div",{children:"Loading Chart"}),data:n,options:{colors:["#8FDB97"],curveType:"function",legend:"none",lineWidth:2,chartArea:{width:"80%",height:"80%"},animation:{startup:!0,duration:1e3,easing:"out"},titleTextStyle:{color:"#232323",fontName:"Consolas,monaco,monospace",bold:!0,fontSize:16},hAxis:{format:"MMM, YY",textStyle:{color:"#232323",fontName:"Consolas,monaco,monospace",fontSize:12}},vAxis:{textPosition:"in",textStyle:{color:"#232323",fontName:"Consolas,monaco,monospace",fontSize:12}}}}):Object(r.jsx)("div",{children:"Waiting for Data"})},function(t){Object(v.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(j.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).state={ratios:[],isLoading:!0},t.fetchRate=function(){var n=t.props,e=n.from,r=n.to,o=g(e,r);console.log(o),fetch(o).then((function(n){return n.json().then((function(n){n&&(t.setState({ratios:n.payload.ratios}),t.setState({isLoading:!1}))}))}))},t}return Object(p.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.fetchRate()}},{key:"componentDidMount",value:function(){this.fetchRate()}},{key:"render",value:function(){return this.isLoading?Object(r.jsx)("div",{children:"Loading!"}):Object(r.jsx)(x,Object(u.a)(Object(u.a)({},this.props),this.state))}}]),e}(c.a.Component)),k=e(13);function y(t,n,e){return function(r){return"rgba(".concat(t,", ").concat(n,", ").concat(e,", ").concat(r/100,")")}}var C=function(){function t(n,e){Object(j.a)(this,t),this.from=n,this.to=e}return Object(p.a)(t,[{key:"url",value:function(){return"".concat("https://min-api.cryptocompare.com/data/pricemultifull?fsyms=").concat(this.from,"&tsyms=").concat(this.to)}},{key:"extract",value:function(t,n){var e=!!t.Response,r=null,o=null;e?o=t.Message:r=t.RAW[this.from][this.to].PRICE,n.setState((function(t){return{rate:r,error:o}}))}}]),t}(),S=function(){function t(){Object(j.a)(this,t)}return Object(p.a)(t,[{key:"url",value:function(t,n){return"https://shapeshift.io/rate/".concat(t,"_").concat(n)}},{key:"extract",value:function(t,n){n.setState((function(n){return{rate:t.rate,error:t.error}}))}}]),t}();function N(){var t=Object(s.a)(["\n  background: ",";\n\n  &:hover {\n    background: ",";\n  }\n"]);return N=function(){return t},t}function R(){var t=Object(s.a)([""]);return R=function(){return t},t}var A=y(255,153,153),T={ss:Object(b.a)(.3,"#5A739C"),cc:Object(b.a)(.3,"#58CA71")};var M=function(t){return function(n){Object(v.a)(o,n);var e=Object(m.a)(o);function o(){var t;Object(j.a)(this,o);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={rate:null,error:null},t.fetchRate=function(){var n=t.props.API,e=t.props,r=e.from,o=e.to,c=new n(r,o);!t.state.rate||t.setState((function(t){return{rate:null,error:null}}));var a=c.url(r,o);fetch(a).then((function(n){return n.json().then((function(n){return c.extract(n,Object(k.a)(t))}))}))},t}return Object(p.a)(o,[{key:"componentWillReceiveProps",value:function(t){this.setState((function(t){return{rate:null,error:null}})),this.fetchRate()}},{key:"componentDidMount",value:function(){this.fetchRate()}},{key:"render",value:function(){return Object(r.jsx)(t,Object(u.a)(Object(u.a)(Object(u.a)({},this.props),this.state),{},{handleClick:this.fetchRate}))}}]),o}(c.a.Component)}((function(t){var n=t.from,e=t.to,c=t.rate,a=t.precision,i=void 0===a?2:a,s=t.error,u=t.editMode,l=(t.handleClick,t.handleRemove),h=void 0===l?function(){return console.log("will remove!")}:l,b=t.api,d=(t.API,!!c),j=c&&parseFloat(c).toFixed(i),p=Object(o.useState)(!1),v=Object(f.a)(p,2),m=v[0],O=v[1],g=d?"1 ".concat(n," = ").concat(j," ").concat(e):"Loading rate..";return s&&(g="Error: ".concat(s)),Object(r.jsxs)("div",{className:"flex",children:[u&&Object(r.jsx)(E,{onClick:h,children:"x"}),Object(r.jsxs)("div",{className:"flex-column w-100",children:[Object(r.jsx)(L,{onClick:function(){return O(!m)},isError:!!s,color:T[b],children:g}),m&&Object(r.jsx)(w,{from:n,to:e})]})]})})),E=h.a.div.attrs({className:"bg-red code f4 f3-l black-60 pv2 pv3-m pv3-m pv3-l ph3 pointer bb-black-10 mr1 mb1"})(R()),L=h.a.div.attrs({className:"code f4 f3-l b black-60 pv2 pv3-m pv3-l ph3 pointer bb b--black-10 w-100 mb1"})(N(),(function(t){return t.isError?A(10):t.color}),(function(t){return t.isError?A(15):t.color})),F=e(11),W=e(26);function D(){var t=Object(s.a)(["\n  background: ",";\n"]);return D=function(){return t},t}function P(){var t=Object(s.a)(["\n  max-width: 500px;\n"]);return P=function(){return t},t}function I(){var t=Object(s.a)([""]);return I=function(){return t},t}function B(){var t=Object(s.a)([""]);return B=function(){return t},t}function U(){var t=Object(s.a)([""]);return U=function(){return t},t}var _=y(255,212,0);function J(t){var n=t.placeholder,e=Object(W.a)(t,["placeholder"]);return Object(r.jsx)(z,{children:Object(r.jsx)(H,Object(u.a)({placeholder:n},e))})}var z=h.a.div.attrs({className:"ba mb2 br2 b--black-10"})(U()),H=h.a.input.attrs({className:"w-100 br2 pa2 f3 code bn",type:"text"})(B()),Y=h.a.input.attrs({className:"w-100 br3 pa2 f3 code bn bg-black-10 pointer",type:"button"})(I()),$=h.a.div.attrs({className:"flex flex-column w-100 ph3"})(P()),q=h.a.div.attrs({className:"flex pa4-ns pv4 w-100 justify-center"})(D(),_(9)),G=function(t){Object(v.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(j.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).state={from:"",to:""},t.handleChange=function(n){return function(e){e.persist(),t.setState((function(t){return Object(F.a)({},n,e.target.value.toUpperCase())}))}},t.submit=function(){return t.props.handleSubmit(t.state.from,t.state.to)},t}return Object(p.a)(e,[{key:"render",value:function(){var t=this.state,n=t.from,e=t.to;return Object(r.jsx)(q,{children:Object(r.jsxs)($,{children:[Object(r.jsx)(J,{value:n,placeholder:"From",onChange:this.handleChange("from")}),Object(r.jsx)(J,{value:e,placeholder:"To",onChange:this.handleChange("to")}),Object(r.jsx)(Y,{value:"Add Pair",onClick:this.submit})]})})}}]),e}(c.a.Component);function K(){var t=Object(s.a)([""]);return K=function(){return t},t}function Q(){var t=Object(s.a)([""]);return Q=function(){return t},t}function V(){var t=Object(s.a)(["\n  max-width: 960px;\n"]);return V=function(){return t},t}function X(){var t=Object(s.a)([""]);return X=function(){return t},t}function Z(){var t=Object(o.useState)(!0),n=Object(f.a)(t,2),e=n[0],c=n[1],a=function(t,n){var e=Object(o.useState)((function(){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(r){return console.log(r),n}})),r=Object(f.a)(e,2),c=r[0],a=r[1];return[c,function(n){try{var e=n instanceof Function?n(c):n;a(e),window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.log(r)}}]}("pairs",O),i=Object(f.a)(a,2),s=i[0],h=i[1],b=Object(o.useState)(!1),d=Object(f.a)(b,2),j=d[0],p=d[1];console.log("pairs",s);var v={ss:S,cc:C};return Object(r.jsx)(tt,{children:Object(r.jsxs)(nt,{children:[e&&s.map((function(t,n){return Object(r.jsx)(M,Object(u.a)(Object(u.a)({handleRemove:function(){return t=n,console.log("remove",t),void h(s.filter((function(n,e){return e!=t})));var t}},t),{},{API:v[t.api],editMode:j}),n)})),!e&&Object(r.jsx)(G,{handleSubmit:function(t,n){h([].concat(Object(l.a)(s),[{from:t,to:n,api:"cc"}])),c(!e)}}),Object(r.jsx)(rt,{children:Object(r.jsxs)("div",{className:"f",children:[e&&!j&&Object(r.jsx)(et,{onClick:function(){return c(!e)},children:"Add"}),e&&!j&&Object(r.jsx)(et,{onClick:function(){return p(!j)},children:"Remove"}),!e&&Object(r.jsx)(et,{onClick:function(){return c(!0)},children:"Cancel"}),j&&Object(r.jsx)(et,{onClick:function(){return p(!1)},children:"Cancel"})]})})]})})}var tt=h.a.div.attrs({className:"flex justify-center"})(X()),nt=h.a.div.attrs({className:"w-100 flex flex-column mt4-ns"})(V()),et=h.a.a.attrs({className:"link b pointer mr2"})(Q()),rt=h.a.div.attrs({className:"f6 code pa3 ph0-ns flex justify-between"})(K()),ot=(e(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ct(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}console.log("v0.25"),i.a.render(Object(r.jsx)(Z,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ot?function(t){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):ct(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):ct(t)}))}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.79675ded.chunk.js.map